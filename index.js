import{a as S,S as q,i as s}from"./assets/vendor-Db2TdIkw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const w="49553304-bb2269abcee8455e1256fbbe8",v="https://pixabay.com/api/";async function f(r,t){const a={key:w,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t};return(await S.get(v,{params:a})).data}const m=document.querySelector(".gallery"),y=document.querySelector(".load-more"),g=document.querySelector(".loader");let E=new q(".gallery a",{captionsData:"alt",captionDelay:250});function h(r){const t=r.map(({webformatURL:a,largeImageURL:n,tags:e})=>`
        <li class="gallery-item"> <a href="${n}">
            <img src="${a}" alt="${e}" loading="lazy">
            </a>
        </li>
    `).join("");m.insertAdjacentHTML("beforeend",t),E.refresh()}function B(){m.innerHTML=""}function p(){g.classList.remove("hidden")}function L(){g.classList.add("hidden")}function M(){y.classList.remove("hidden"),document.querySelector(".load-more").style.display="block"}function b(){y.classList.add("hidden"),document.querySelector(".load-more").style.display="none"}const I=document.querySelector(".form"),O=document.querySelector(".gallery"),P=document.querySelector(".load-more");let l="",d=1,c=0,i=0;I.addEventListener("submit",async r=>{if(r.preventDefault(),l=r.target.elements.query.value.trim(),!l){s.error({title:"Error",message:"Please enter a search query!"});return}d=1,i=0,B(),b(),p();try{const t=await f(l,d);if(c=t.totalHits,i+=t.hits.length,c===0){s.info({title:"Info",message:"No images found. Try a different search!"});return}h(t.hits),i<c&&M()}catch{s.error({title:"Error",message:"Something went wrong. Try again later!"})}finally{L()}});P.addEventListener("click",async()=>{d+=1,p();try{const r=await f(l,d);i+=r.hits.length,h(r.hits);const{height:t}=O.firstElementChild.getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"}),i>=c&&(b(),s.info({title:"Info",message:"We're sorry, but you've reached the end of search results."}))}catch{s.error({title:"Error",message:"Something went wrong. Try again later!"})}finally{L()}});
//# sourceMappingURL=index.js.map
